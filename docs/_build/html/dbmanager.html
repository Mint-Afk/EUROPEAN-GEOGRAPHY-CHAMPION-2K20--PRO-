

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>dbmanager module &mdash; European Geography Champion 2K20 1.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'1.2',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="test package" href="test.html" />
    <link rel="prev" title="city_check.scripts package" href="city_check.scripts.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> European Geography Champion 2K20
          

          
          </a>

          
            
            
              <div class="version">
                1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">EUROPEAN-GEOGRAPHY-CHAMPION-2K20–PRO-</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="EGC_2K20.html">EGC_2K20 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="city_check.html">city_check package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">dbmanager module</a></li>
<li class="toctree-l2"><a class="reference internal" href="test.html">test package</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">European Geography Champion 2K20</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">EUROPEAN-GEOGRAPHY-CHAMPION-2K20–PRO-</a> &raquo;</li>
        
      <li>dbmanager module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/dbmanager.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-dbmanager">
<span id="dbmanager-module"></span><h1>dbmanager module<a class="headerlink" href="#module-dbmanager" title="Permalink to this headline">¶</a></h1>
<p>Database Manager module is used to manage user database operations.</p>
<p>dbmanager.py will enable you to:
- add a new account with username and password
- check if credentials inserted are present on the database
- remove an account from the database
The module is can be called directly to manage database or through the main app
EGC-2K20 to check if the user is registered and allow the access.</p>
<p class="rubric">Example</p>
<p>Adding a new user:</p>
<blockquote>
<div><p>$ python dbmanager.py -usr test -psw test -add</p>
<blockquote>
<div>User [test] succesfully added to database!</div></blockquote>
</div></blockquote>
<p>Removing a user:</p>
<blockquote>
<div><p>$ python dbmanager.py -usr test -psw test -rm</p>
<blockquote>
<div>Successfully removed user [test]</div></blockquote>
</div></blockquote>
<p>Checking credentials:</p>
<blockquote>
<div><p>$ python dbmanager.py -usr test -psw test -check</p>
<blockquote>
<div>Credentials you have inserted for user [test] are the correct ones!</div></blockquote>
</div></blockquote>
<p>Level of verbosity is regulated through the optional argument of the parser</p>
<dl class="function">
<dt id="dbmanager.check_user">
<code class="descclassname">dbmanager.</code><code class="descname">check_user</code><span class="sig-paren">(</span><em>user</em>, <em>passw</em><span class="sig-paren">)</span><a class="headerlink" href="#dbmanager.check_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if credentials are correct.</p>
<p>If the user exists the SHA256 is computed. Than, if the digest of the
password provided by the user is the same as the digest computed as above,
the user is authenticated and allowed to use functionalities.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>user</strong> (<em>string</em>) – user username</li>
<li><strong>passw</strong> (<em>string</em>) – user password</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dbmanager.new_user">
<code class="descclassname">dbmanager.</code><code class="descname">new_user</code><span class="sig-paren">(</span><em>user</em>, <em>passw</em><span class="sig-paren">)</span><a class="headerlink" href="#dbmanager.new_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a new user.</p>
<p>The SHA256, of salt plus password, is computed to obtain the digest.
Password can so be stored in secure manner in encrypted version.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>user</strong> (<em>string</em>) – user username</li>
<li><strong>passw</strong> (<em>string</em>) – user password</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dbmanager.open_and_create">
<code class="descclassname">dbmanager.</code><code class="descname">open_and_create</code><span class="sig-paren">(</span><em>database</em><span class="sig-paren">)</span><a class="headerlink" href="#dbmanager.open_and_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to the database or create a new one if it doesn’t exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>database</strong> (<em>string</em>) – path to database</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dbmanager.parse_args">
<code class="descclassname">dbmanager.</code><code class="descname">parse_args</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dbmanager.parse_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Command line option and argument parsing.</p>
<p>The function use argparse to write user-friendly command-line interfaces.
The argparse module also automatically generates help and usage messages
and issues errors when users give the program invalid arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>place</strong> (<em>positional</em>) – the state or capital selected by the user</li>
<li><strong>[</strong><strong>&quot;-usr&quot;</strong><strong>]</strong> (<em>required</em>) – Insert username of the account</li>
<li><strong>[</strong><strong>&quot;-psw&quot;</strong><strong>]</strong> (<em>required</em>) – Insert password of the account</li>
<li><strong>[</strong><strong>&quot;-add&quot;</strong><strong>]</strong> – add a user</li>
<li><strong>[</strong><strong>&quot;-rm&quot;</strong><strong>]</strong> – remove a user</li>
<li><strong>[</strong><strong>&quot;-check&quot;</strong><strong>]</strong> – check a user</li>
<li><strong>[</strong><strong>&quot;--version&quot;</strong><strong>]</strong> (<em>optional</em>) – show infos about the project</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">user shell inputs arguments</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">argparse (namespace)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dbmanager.remove_user">
<code class="descclassname">dbmanager.</code><code class="descname">remove_user</code><span class="sig-paren">(</span><em>user</em>, <em>passw</em><span class="sig-paren">)</span><a class="headerlink" href="#dbmanager.remove_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove an old user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>user</strong> (<em>string</em>) – user username</li>
<li><strong>passw</strong> (<em>string</em>) – user password</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="test.html" class="btn btn-neutral float-right" title="test package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="city_check.scripts.html" class="btn btn-neutral float-left" title="city_check.scripts package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Matteo Carniel

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>